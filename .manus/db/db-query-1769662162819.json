{
  "query": "\n-- Create vessels table\nCREATE TABLE IF NOT EXISTS `vessels` (\n  `id` varchar(64) NOT NULL,\n  `userId` int NOT NULL,\n  `vesselTagNumber` varchar(255) NOT NULL,\n  `vesselName` text,\n  `manufacturer` text,\n  `serialNumber` varchar(255),\n  `yearBuilt` int,\n  `nbNumber` varchar(255),\n  `constructionCode` varchar(255) NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`)\n);\n\n-- Create components table\nCREATE TABLE IF NOT EXISTS `components` (\n  `id` varchar(64) NOT NULL,\n  `vesselId` varchar(64) NOT NULL,\n  `inspectionId` varchar(64),\n  `componentType` enum('Shell','Head','Nozzle') NOT NULL,\n  `componentName` varchar(255) NOT NULL,\n  `materialSpec` varchar(255) NOT NULL,\n  `designPressure` decimal(10,2) NOT NULL,\n  `designTemperature` decimal(10,2) NOT NULL,\n  `jointEfficiency` decimal(4,3) NOT NULL,\n  `nominalThickness` decimal(10,4) NOT NULL,\n  `corrosionAllowance` decimal(10,4) NOT NULL,\n  `insideDiameter` decimal(10,4) NOT NULL,\n  `headType` enum('2:1 Ellipsoidal','Torispherical','Hemispherical','Flat'),\n  `headGeometry` json,\n  `currentThickness` decimal(10,4) NOT NULL,\n  `currentThicknessDate` date NOT NULL,\n  `previousThickness` decimal(10,4),\n  `previousThicknessDate` date,\n  `tRequired` decimal(10,4),\n  `mawp` decimal(10,2),\n  `remainingLife` decimal(10,2),\n  `corrosionRateLT` decimal(10,5),\n  `corrosionRateST` decimal(10,5),\n  `governingCorrosionRate` decimal(10,5),\n  `governingRateType` enum('LT','ST','USER'),\n  `nextInspectionDate` date,\n  `calculationTimestamp` timestamp,\n  `calculationVersion` varchar(50),\n  `materialDatabaseVersion` varchar(50),\n  `calculationIntermediates` json,\n  `dataQualityStatus` enum('complete','missing_data','calculation_halted') DEFAULT 'complete',\n  `dataQualityNotes` text,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`)\n);\n\n-- Create audit_log table\nCREATE TABLE IF NOT EXISTS `auditLog` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `userId` varchar(255) NOT NULL,\n  `userName` varchar(255),\n  `tableName` varchar(255) NOT NULL,\n  `recordId` varchar(64) NOT NULL,\n  `fieldName` varchar(255) NOT NULL,\n  `oldValue` text,\n  `newValue` text,\n  `actionType` enum('CREATE','UPDATE','DELETE') NOT NULL,\n  `justification` text,\n  `ipAddress` varchar(45),\n  `userAgent` text,\n  `sessionId` varchar(255),\n  `calculationVersion` varchar(50),\n  `codeReference` varchar(255),\n  PRIMARY KEY (`id`)\n);\n\n-- Create ASME material properties table\nCREATE TABLE IF NOT EXISTS `asmeMaterialProperties` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `materialSpec` varchar(255) NOT NULL,\n  `specNumber` varchar(50) NOT NULL,\n  `grade` varchar(50),\n  `productForm` varchar(100),\n  `minTensileStrength` int,\n  `minYieldStrength` int,\n  `minTemperature` int,\n  `maxTemperature` int,\n  `tableReference` varchar(50),\n  `databaseVersion` varchar(50) NOT NULL,\n  `effectiveDate` date NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`)\n);\n\n-- Create ASME allowable stress table\nCREATE TABLE IF NOT EXISTS `asmeAllowableStress` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `materialSpec` varchar(255) NOT NULL,\n  `temperatureF` int NOT NULL,\n  `allowableStress` int NOT NULL,\n  `tableReference` varchar(50) NOT NULL,\n  `databaseVersion` varchar(50) NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`)\n);\n\n-- Create calculation results table\nCREATE TABLE IF NOT EXISTS `calculationResults` (\n  `id` varchar(64) NOT NULL,\n  `componentId` varchar(64) NOT NULL,\n  `inspectionId` varchar(64),\n  `calculationType` enum('t_required_shell','t_required_head_ellipsoidal','t_required_head_torispherical','t_required_head_hemispherical','mawp_shell','mawp_head','corrosion_rate_lt','corrosion_rate_st','remaining_life','next_inspection') NOT NULL,\n  `inputParameters` json NOT NULL,\n  `resultValue` decimal(15,6) NOT NULL,\n  `resultUnit` varchar(50) NOT NULL,\n  `intermediateValues` json NOT NULL,\n  `codeReference` varchar(255) NOT NULL,\n  `formulaUsed` text NOT NULL,\n  `assumptions` json,\n  `warnings` json,\n  `calculationEngineVersion` varchar(50) NOT NULL,\n  `materialDatabaseVersion` varchar(50) NOT NULL,\n  `calculatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `calculatedBy` int,\n  `validationStatus` enum('valid','warning','error') DEFAULT 'valid',\n  `validationNotes` text,\n  PRIMARY KEY (`id`)\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2vRv1t5JdAedAFZ.807c3fab4c80 --database A4XPjAmiHcgmrps2ZTa96H --execute \n-- Create vessels table\nCREATE TABLE IF NOT EXISTS `vessels` (\n  `id` varchar(64) NOT NULL,\n  `userId` int NOT NULL,\n  `vesselTagNumber` varchar(255) NOT NULL,\n  `vesselName` text,\n  `manufacturer` text,\n  `serialNumber` varchar(255),\n  `yearBuilt` int,\n  `nbNumber` varchar(255),\n  `constructionCode` varchar(255) NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`)\n);\n\n-- Create components table\nCREATE TABLE IF NOT EXISTS `components` (\n  `id` varchar(64) NOT NULL,\n  `vesselId` varchar(64) NOT NULL,\n  `inspectionId` varchar(64),\n  `componentType` enum('Shell','Head','Nozzle') NOT NULL,\n  `componentName` varchar(255) NOT NULL,\n  `materialSpec` varchar(255) NOT NULL,\n  `designPressure` decimal(10,2) NOT NULL,\n  `designTemperature` decimal(10,2) NOT NULL,\n  `jointEfficiency` decimal(4,3) NOT NULL,\n  `nominalThickness` decimal(10,4) NOT NULL,\n  `corrosionAllowance` decimal(10,4) NOT NULL,\n  `insideDiameter` decimal(10,4) NOT NULL,\n  `headType` enum('2:1 Ellipsoidal','Torispherical','Hemispherical','Flat'),\n  `headGeometry` json,\n  `currentThickness` decimal(10,4) NOT NULL,\n  `currentThicknessDate` date NOT NULL,\n  `previousThickness` decimal(10,4),\n  `previousThicknessDate` date,\n  `tRequired` decimal(10,4),\n  `mawp` decimal(10,2),\n  `remainingLife` decimal(10,2),\n  `corrosionRateLT` decimal(10,5),\n  `corrosionRateST` decimal(10,5),\n  `governingCorrosionRate` decimal(10,5),\n  `governingRateType` enum('LT','ST','USER'),\n  `nextInspectionDate` date,\n  `calculationTimestamp` timestamp,\n  `calculationVersion` varchar(50),\n  `materialDatabaseVersion` varchar(50),\n  `calculationIntermediates` json,\n  `dataQualityStatus` enum('complete','missing_data','calculation_halted') DEFAULT 'complete',\n  `dataQualityNotes` text,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`)\n);\n\n-- Create audit_log table\nCREATE TABLE IF NOT EXISTS `auditLog` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `userId` varchar(255) NOT NULL,\n  `userName` varchar(255),\n  `tableName` varchar(255) NOT NULL,\n  `recordId` varchar(64) NOT NULL,\n  `fieldName` varchar(255) NOT NULL,\n  `oldValue` text,\n  `newValue` text,\n  `actionType` enum('CREATE','UPDATE','DELETE') NOT NULL,\n  `justification` text,\n  `ipAddress` varchar(45),\n  `userAgent` text,\n  `sessionId` varchar(255),\n  `calculationVersion` varchar(50),\n  `codeReference` varchar(255),\n  PRIMARY KEY (`id`)\n);\n\n-- Create ASME material properties table\nCREATE TABLE IF NOT EXISTS `asmeMaterialProperties` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `materialSpec` varchar(255) NOT NULL,\n  `specNumber` varchar(50) NOT NULL,\n  `grade` varchar(50),\n  `productForm` varchar(100),\n  `minTensileStrength` int,\n  `minYieldStrength` int,\n  `minTemperature` int,\n  `maxTemperature` int,\n  `tableReference` varchar(50),\n  `databaseVersion` varchar(50) NOT NULL,\n  `effectiveDate` date NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`)\n);\n\n-- Create ASME allowable stress table\nCREATE TABLE IF NOT EXISTS `asmeAllowableStress` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `materialSpec` varchar(255) NOT NULL,\n  `temperatureF` int NOT NULL,\n  `allowableStress` int NOT NULL,\n  `tableReference` varchar(50) NOT NULL,\n  `databaseVersion` varchar(50) NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`)\n);\n\n-- Create calculation results table\nCREATE TABLE IF NOT EXISTS `calculationResults` (\n  `id` varchar(64) NOT NULL,\n  `componentId` varchar(64) NOT NULL,\n  `inspectionId` varchar(64),\n  `calculationType` enum('t_required_shell','t_required_head_ellipsoidal','t_required_head_torispherical','t_required_head_hemispherical','mawp_shell','mawp_head','corrosion_rate_lt','corrosion_rate_st','remaining_life','next_inspection') NOT NULL,\n  `inputParameters` json NOT NULL,\n  `resultValue` decimal(15,6) NOT NULL,\n  `resultUnit` varchar(50) NOT NULL,\n  `intermediateValues` json NOT NULL,\n  `codeReference` varchar(255) NOT NULL,\n  `formulaUsed` text NOT NULL,\n  `assumptions` json,\n  `warnings` json,\n  `calculationEngineVersion` varchar(50) NOT NULL,\n  `materialDatabaseVersion` varchar(50) NOT NULL,\n  `calculatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `calculatedBy` int,\n  `validationStatus` enum('valid','warning','error') DEFAULT 'valid',\n  `validationNotes` text,\n  PRIMARY KEY (`id`)\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 1061
}